<div class="login-background d-flex justify-content-center align-items-center">

    <div *ngIf="alertMessage" class="login-alert alert alert-{{alertType}}">
        {{ alertMessage | translate }}
    </div>

    <div class="login-form w-25">
        <div class="text-center mb-3">
            <img src="assets/logo.png" alt="GeekHub Logo" class="logo">
        </div>

        <!-- Paso 1 -->
        <form *ngIf="currentStep === 1">
            <div class="form-group mb-3">
                <label for="username"><i class="bi bi-person"></i> {{'USERNAME' | translate}}</label>
                <input [(ngModel)]="registerData.username" name="username" class="form-control" id="username" required>
            </div>

            <div class="form-group mb-3">
                <label for="email"><i class="bi bi-envelope"></i> Email</label>
                <input [(ngModel)]="registerData.email" name="email" type="email" class="form-control" id="email"
                    required>
            </div>

            <div class="form-group mb-3">
                <label for="password"><i class="bi bi-lock"></i> {{'PASSWORD' | translate}}</label>
                <div class="input-group">
                    <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="registerData.password"
                        name="password" class="form-control" id="password" required>
                    <button class="btn btn-password" type="button" (click)="togglePassword('password')">
                        <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                    </button>
                </div>
            </div>

            <div class="form-group mb-4">
                <label for="confirmPassword"><i class="bi bi-lock"></i> {{'CONFIRM_PASSWORD' | translate}}</label>
                <div class="input-group">
                    <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="registerData.confirmPassword"
                        name="confirmPassword" class="form-control" id="confirmPassword" required>
                    <button class="btn btn-password" type="button" (click)="togglePassword('confirm')">
                        <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                    </button>
                </div>
            </div>

            <button type="button" class="btn btn-primary w-100 mt-2" (click)="goToNextStep()"
                [disabled]="!isStep1Valid()">{{'NEXT' | translate}}</button>
        </form>

        <!-- Paso 2 -->
        <form *ngIf="currentStep === 2">
            <div class="form-group mb-3">
                <label><i class="bi bi-person"></i> {{'NAME' | translate}}</label>
                <div class="input-group">
                    <input [(ngModel)]="registerData.name" name="name" class="form-control" required>
                </div>
            </div>

            <div class="form-group mb-3">
                <label><i class="bi bi-person-vcard"></i> {{'SURNAME' | translate}}</label>
                <div class="input-group">
                    <input [(ngModel)]="registerData.surname" name="surname" class="form-control" required>
                </div>
            </div>

            <div class="form-group mb-3">
                <label><i class="bi bi-telephone"></i> {{'PHONE' | translate}}</label>
                <div class="input-group">
                    <input [(ngModel)]="registerData.phone" name="phone" class="form-control" required>
                </div>
            </div>

            <div class="form-group mb-3">
                <label><i class="bi bi-geo-alt"></i> {{'ADDRESS' | translate}}</label>
                <div class="input-group">
                    <input [(ngModel)]="registerData.address" name="address" class="form-control" required>
                </div>
            </div>

            <div class="form-group mb-3">
                <label><i class="bi bi-mailbox"></i> {{'POSTAL_CODE' | translate}}</label>
                <div class="input-group">
                    <input [(ngModel)]="registerData.cp" name="cp" class="form-control" required>
                </div>
            </div>

            <div class="form-group mb-3">
                <label><i class="bi bi-gender-ambiguous"></i> {{'GENDER' | translate}}</label>
                <div class="input-group" required>
                    <select [(ngModel)]="registerData.gender" name="gender" class="form-control">
                        <option value="MALE">{{'MALE' | translate}}</option>
                        <option value="FEMALE">{{'FEMALE' | translate}}</option>
                        <option value="OTHER">{{'OTHER' | translate}}</option>
                    </select>
                </div>
            </div>

            <div class="form-group mb-3">
                <label><i class="bi bi-calendar-event"></i> {{'BIRTHDAY' | translate}}</label>
                <div class="input-group">
                    <input [(ngModel)]="registerData.birthday" name="birthday" type="date" class="form-control"
                        required>
                </div>
            </div>

            <div class="row mt-2">
                <div class="col-6">
                    <button type="button" class="btn btn-secondary w-100" (click)="goToPreviousStep()">
                        <i class="bi bi-arrow-left-circle"></i> {{'BACK' | translate}}
                    </button>
                </div>
                <div class="col-6">
                    <button type="button" class="btn btn-primary w-100" (click)="submitRegistration()"
                        [disabled]="!isStep2Valid()" routerLink="/activation">
                        {{'NEXT' | translate}} <i class="bi bi-arrow-right-circle"></i>
                    </button>
                </div>
            </div>

        </form>
    </div>
</div>